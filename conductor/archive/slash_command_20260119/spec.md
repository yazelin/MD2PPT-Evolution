# 規格書: Slash Command (斜線指令系統) - `slash_command_20260119`

## 1. 概述 (Overview)
為了提升編輯效率並降低使用者記憶 Markdown/YAML 語法的負擔，本功能將在編輯器中引入類似 Notion 的「斜線指令選單」。使用者只需輸入 `/`，即可跳出懸浮選單，快速選取並插入包含範例數據的內容模板。

## 2. 功能需求 (Functional Requirements)

### 2.1 觸發機制與選單顯示
- **偵測觸發**：在編輯器中輸入 `/` 字元時，於游標位置正下方彈出懸浮選單 (Floating Popover)。
- **搜尋過濾**：當使用者在 `/` 後繼續輸入文字時，選單應根據輸入內容進行即時過濾（如 `/ch` 過濾出 Chart 指令）。
- **取消行為**：按下 `Esc` 鍵或點擊選單外部應關閉選單。

### 2.2 互動體驗
- **鍵盤導航**：支援使用 `↑` / `↓` 鍵切換選項，`Enter` 鍵確認選擇。
- **游標自動定位**：指令插入後，游標應自動定位至範例內容中，方便使用者立即修改。

### 2.3 指令清單與模板內容
指令應包含四大類別，且每個指令插入時均須附帶**範例數據**：
- **基礎排版**：Heading 1, Heading 2, Bullet List, Numbered List。
- **特殊佈局 (Layouts)**：自動插入帶有 YAML Frontmatter 的分頁符號（如 `=== 
 --- layout: grid ---`）。
- **進階元件**：Chart (Bar/Line/Pie)、Mermaid 流程圖、Alert 告警區塊。
- **多媒體**：專業表格模板、圖片佔位符。

## 3. 非功能需求 (Non-Functional Requirements)
- **效能**：選單彈出延遲應低於 100ms，確保流暢度。
- **視覺一致性**：選單樣式須符合專案現有的「科技深夜」或「琥珀石墨」主題。
- **強健性**：在現有的 Markdown 解析邏輯下，插入的模板必須能正確被渲染。

## 4. 驗收標準 (Acceptance Criteria)
- [ ] 在編輯器輸入 `/` 能正確顯示選單。
- [ ] 選單位置能精確追蹤游標（考慮捲動與換行）。
- [ ] 選擇指令後，編輯器會插入完整的範例語法，而非僅是標籤。
- [ ] 鍵盤操作（上下鍵、Enter、Esc）功能正常。

## 5. 超出範圍 (Out of Scope)
- 使用者自定義指令功能。
- 完整拖放排序選單項目的功能。
